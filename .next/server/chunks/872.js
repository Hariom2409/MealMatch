exports.id=872,exports.ids=[872],exports.modules={491:(e,s,a)=>{"use strict";a.d(s,{Z:()=>d});var r=a(997);a(6689);var i=a(3353),l=a(8888),n=a(8083),o=a(1664),t=a.n(o),c=a(6963);let d=()=>{let e=new Date().getFullYear();return r.jsx("footer",{className:"bg-dark text-white pt-5 pb-4",children:(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)(l.Z,{className:"gy-4",children:[r.jsx(n.Z,{lg:4,md:6,children:(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(t(),{href:"/",className:"text-decoration-none d-flex align-items-center mb-3",children:[r.jsx("div",{className:"logo-container-sm me-2",children:r.jsx(c.ZR,{className:"text-white"})}),r.jsx("span",{className:"h4 mb-0 text-white fw-bold",children:"MealMatch"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Connecting food donors with organizations to reduce waste and help those in need."}),(0,r.jsxs)("div",{className:"d-flex gap-3",children:[r.jsx("a",{href:"#",className:"social-icon","aria-label":"Twitter",children:r.jsx(c.fWC,{})}),r.jsx("a",{href:"#",className:"social-icon","aria-label":"Facebook",children:r.jsx(c.Am9,{})}),r.jsx("a",{href:"#",className:"social-icon","aria-label":"Instagram",children:r.jsx(c.Zf_,{})}),r.jsx("a",{href:"#",className:"social-icon","aria-label":"LinkedIn",children:r.jsx(c.ltd,{})})]})]})}),(0,r.jsxs)(n.Z,{lg:2,md:6,children:[r.jsx("h5",{className:"text-white mb-4 fw-semibold",children:"Quick Links"}),(0,r.jsxs)("ul",{className:"list-unstyled footer-links",children:[r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/",className:"footer-link",children:"Home"})}),r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/about",className:"footer-link",children:"About Us"})}),r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/login",className:"footer-link",children:"Login"})}),r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/register",className:"footer-link",children:"Register"})})]})]}),(0,r.jsxs)(n.Z,{lg:3,md:6,children:[r.jsx("h5",{className:"text-white mb-4 fw-semibold",children:"For Users"}),(0,r.jsxs)("ul",{className:"list-unstyled footer-links",children:[r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/register?role=donor",className:"footer-link",children:"Become a Donor"})}),r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/register?role=ngo",className:"footer-link",children:"Register as NGO"})}),r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/donor/dashboard",className:"footer-link",children:"Donor Dashboard"})}),r.jsx("li",{className:"mb-2",children:r.jsx(t(),{href:"/recipient/dashboard",className:"footer-link",children:"Recipient Dashboard"})})]})]}),(0,r.jsxs)(n.Z,{lg:3,md:6,children:[r.jsx("h5",{className:"text-white mb-4 fw-semibold",children:"Contact Us"}),(0,r.jsxs)("ul",{className:"list-unstyled footer-contact",children:[(0,r.jsxs)("li",{className:"mb-3 d-flex align-items-start",children:[r.jsx(c.Nh4,{className:"contact-icon mt-1"}),r.jsx("span",{className:"ms-2",children:"123 Food Street, Hunger City, 90210, United States"})]}),(0,r.jsxs)("li",{className:"mb-3 d-flex align-items-center",children:[r.jsx(c.SRX,{className:"contact-icon"}),r.jsx("span",{className:"ms-2",children:"info@mealmatch.example"})]}),(0,r.jsxs)("li",{className:"mb-3 d-flex align-items-center",children:[r.jsx(c.I7T,{className:"contact-icon"}),r.jsx("span",{className:"ms-2",children:"+1 (555) 123-4567"})]})]})]})]}),r.jsx("hr",{className:"mt-4 mb-4 border-gray-700"}),r.jsx("div",{className:"text-center text-gray-400",children:(0,r.jsxs)("p",{className:"mb-0",children:["\xa9 ",e," MealMatch. All rights reserved."]})})]})})}},9617:(e,s,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(s,{Z:()=>d});var i=a(997);a(6689);var l=a(968),n=a.n(l),o=a(4760),t=a(491),c=e([o]);o=(c.then?(await c)():c)[0];let d=({children:e,title:s="MealMatch - Connecting Food Donors with NGOs",description:a="MealMatch helps connect food donors with NGOs to reduce food waste and fight hunger",fullWidth:r=!1,noTopPadding:l=!1})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[i.jsx("title",{children:s}),i.jsx("meta",{name:"description",content:a}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i.jsx("meta",{name:"theme-color",content:"#00A86B"}),i.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[i.jsx(o.Z,{}),i.jsx("main",{className:`flex-grow-1 ${l?"":"navbar-spacer"}`,children:e}),i.jsx(t.Z,{})]})]});r()}catch(e){r(e)}})},4760:(e,s,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(s,{Z:()=>p});var i=a(997),l=a(6689),n=a(1664),o=a.n(n),t=a(8799),c=a(3353),d=a(6529),m=a(970),h=a(2478),g=a(8111),x=a(1163),u=a(7719),f=a(6963),j=e([g]);g=(j.then?(await j)():j)[0];let p=()=>{let{user:e,logout:s}=(0,g.a)(),a=(0,x.useRouter)(),{theme:r,toggleTheme:n}=(0,u.F)(),[j,p]=(0,l.useState)(!1),N=async()=>{try{await s(),a.push("/")}catch(e){console.error("Failed to log out",e)}};return(0,l.useEffect)(()=>{let e=()=>{window.scrollY>20?p(!0):p(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),i.jsx(t.Z,{expand:"lg",className:`navbar-transition fixed-top ${j?"scrolled-navbar":"transparent-navbar"}`,children:(0,i.jsxs)(c.Z,{fluid:!0,className:"px-4",children:[i.jsx(o(),{href:"/",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(t.Z.Brand,{className:"d-flex align-items-center",children:[i.jsx("div",{className:"logo-container me-2",children:i.jsx(f.ZR,{className:"logo-icon"})}),i.jsx("span",{className:"navbar-brand-text fw-bold",children:"MealMatch"})]})}),(0,i.jsxs)("div",{className:"d-flex align-items-center order-lg-3",children:[i.jsx(d.Z,{className:"theme-toggle-btn me-3",onClick:n,"aria-label":`Toggle ${"dark"===r?"light":"dark"} mode`,children:"dark"===r?i.jsx(f.Mei,{className:"theme-icon sun-icon"}):i.jsx(f.TLr,{className:"theme-icon moon-icon"})}),i.jsx(t.Z.Toggle,{"aria-controls":"basic-navbar-nav",className:"border-0 shadow-none"}),e?i.jsx("div",{className:"d-none d-lg-block",children:(0,i.jsxs)(m.Z,{align:"end",children:[i.jsx(m.Z.Toggle,{variant:"link",className:"user-menu-dropdown p-0 text-decoration-none border-0 shadow-none",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"avatar-circle me-2",children:e.name?e.name.charAt(0).toUpperCase():"U"}),i.jsx("span",{className:"user-name d-none d-lg-inline",children:e.name||"User"}),i.jsx(f.RiI,{className:"ms-2 dropdown-arrow"})]})}),(0,i.jsxs)(m.Z.Menu,{className:"dropdown-menu-end shadow-sm dropdown-menu-custom",children:[(0,i.jsxs)(m.Z.Header,{className:"py-2 px-3",children:[i.jsx("small",{className:"text-muted",children:"Signed in as"}),i.jsx("p",{className:"mb-0 fw-medium",children:e.email})]}),i.jsx(m.Z.Divider,{}),i.jsx(m.Z.Item,{as:o(),href:"/profile",className:"dropdown-item-custom",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"dropdown-icon-circle bg-primary-subtle me-2",children:i.jsx(f.Xws,{className:"text-primary",size:12})}),i.jsx("span",{children:"Profile"})]})}),i.jsx(m.Z.Item,{as:o(),href:"donor"===e.role?"/donor/dashboard":"/recipient/dashboard",className:"dropdown-item-custom",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[i.jsx("div",{className:"dropdown-icon-circle bg-success-subtle me-2",children:i.jsx(f.xng,{className:"text-success",size:12})}),i.jsx("span",{children:"Dashboard"})]})}),i.jsx(m.Z.Divider,{}),i.jsx(m.Z.Item,{onClick:N,className:"dropdown-item-custom text-danger",children:"Logout"})]})]})}):(0,i.jsxs)("div",{className:"d-none d-lg-flex header-buttons",children:[i.jsx(o(),{href:"/login",passHref:!0,legacyBehavior:!0,children:i.jsx(d.Z,{variant:"outline-primary",className:"btn-login me-2",children:"Login"})}),i.jsx(o(),{href:"/register",passHref:!0,legacyBehavior:!0,children:i.jsx(d.Z,{variant:"primary",className:"btn-register",children:"Register"})})]})]}),(0,i.jsxs)(t.Z.Collapse,{id:"basic-navbar-nav",className:"order-lg-2",children:[(0,i.jsxs)(h.Z,{className:"mx-auto main-nav-links",children:[i.jsx(o(),{href:"/",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(h.Z.Link,{className:`nav-link-custom mx-lg-2 ${"/"===a.pathname?"active":""}`,children:[i.jsx(f.xng,{className:"me-2 nav-icon"}),"Home"]})}),i.jsx(o(),{href:"/about",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(h.Z.Link,{className:`nav-link-custom mx-lg-2 ${"/about"===a.pathname?"active":""}`,children:[i.jsx(f.DAO,{className:"me-2 nav-icon"}),"About"]})}),e&&"donor"===e.role&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(o(),{href:"/donor/dashboard",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(h.Z.Link,{className:`nav-link-custom mx-lg-2 ${a.pathname.includes("/donor/dashboard")?"active":""}`,children:[i.jsx(f.P31,{className:"me-2 nav-icon"}),"Dashboard"]})}),i.jsx(o(),{href:"/donor/post",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(h.Z.Link,{className:`nav-link-custom mx-lg-2 ${a.pathname.includes("/donor/post")?"active":""}`,children:[i.jsx(f.EIY,{className:"me-2 nav-icon"}),"Post Food"]})})]}),e&&"ngo"===e.role&&i.jsx(o(),{href:"/recipient/dashboard",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(h.Z.Link,{className:`nav-link-custom mx-lg-2 ${a.pathname.includes("/recipient/dashboard")?"active":""}`,children:[i.jsx(f.P31,{className:"me-2 nav-icon"}),"Dashboard"]})})]}),i.jsx("div",{className:"d-lg-none d-flex flex-column mt-3",children:e?(0,i.jsxs)(i.Fragment,{children:["donor"===e.role&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(o(),{href:"/donor/dashboard",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(d.Z,{variant:"outline-primary",className:"mb-2 w-100",children:[i.jsx(f.P31,{className:"me-2"})," Dashboard"]})}),i.jsx(o(),{href:"/donor/post",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(d.Z,{variant:"outline-primary",className:"mb-2 w-100",children:[i.jsx(f.EIY,{className:"me-2"})," Post Food"]})})]}),"ngo"===e.role&&i.jsx(o(),{href:"/recipient/dashboard",passHref:!0,legacyBehavior:!0,children:(0,i.jsxs)(d.Z,{variant:"outline-primary",className:"mb-2 w-100",children:[i.jsx(f.P31,{className:"me-2"})," Dashboard"]})}),i.jsx(d.Z,{variant:"outline-danger",onClick:N,className:"w-100 mt-1",children:"Logout"})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(o(),{href:"/login",passHref:!0,legacyBehavior:!0,children:i.jsx(d.Z,{variant:"outline-primary",className:"btn-login mb-2 w-100",children:"Login"})}),i.jsx(o(),{href:"/register",passHref:!0,legacyBehavior:!0,children:i.jsx(d.Z,{variant:"primary",className:"btn-register w-100",children:"Register"})})]})})]})]})})};r()}catch(e){r(e)}})},8111:(e,s,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(s,{H:()=>h,a:()=>m});var i=a(997),l=a(6689),n=a(401),o=a(1492),t=a(5375),c=e([n,o,t]);[n,o,t]=c.then?(await c)():c;let d=(0,l.createContext)(void 0),m=()=>{let e=(0,l.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},h=({children:e})=>{let[s,a]=(0,l.useState)(null),[r,c]=(0,l.useState)(!0),m=async()=>{if(t.I8.currentUser){await t.I8.currentUser.reload();let e=t.I8.currentUser;if(e)try{let s=await (0,o.getDoc)((0,o.doc)(t.db,"users",e.uid));if(s.exists()){let r=s.data();a({...r,id:e.uid,email:e.email||r.email,name:e.displayName||r.name,emailVerified:e.emailVerified})}}catch(e){console.error("Error refreshing user state:",e)}}};(0,l.useEffect)(()=>(console.log("AuthProvider: Initializing auth state listener"),(0,n.onAuthStateChanged)(t.I8,async e=>{if(e){console.log("Auth state changed: User is logged in:",e.email);try{let s=await (0,o.getDoc)((0,o.doc)(t.db,"users",e.uid));if(s.exists()){let r=s.data();a({...r,id:e.uid,email:e.email||r.email,name:e.displayName||r.name,emailVerified:e.emailVerified})}else console.log("No user document found in Firestore, creating basic user object"),a({id:e.uid,email:e.email||"",name:e.displayName||"",role:"donor",createdAt:new Date,emailVerified:e.emailVerified})}catch(s){console.error("Error fetching user data from Firestore:",s),a({id:e.uid,email:e.email||"",name:e.displayName||"",role:"donor",createdAt:new Date,emailVerified:e.emailVerified})}}else console.log("Auth state changed: No user is logged in"),a(null);c(!1)})),[]);let h=async(e,s,r)=>{c(!0),console.log("Registering new user:",e,r);try{console.log("Creating user in Firebase Auth...");let i=(await (0,n.createUserWithEmailAndPassword)(t.I8,e,s)).user;console.log("User created in Firebase Auth:",i.uid),console.log("Sending verification email..."),await (0,t.zk)(i),r.name&&(console.log("Setting display name:",r.name),await (0,n.updateProfile)(i,{displayName:r.name}));let l={id:i.uid,name:r.name||"",email:e,role:r.role||"donor",phone:r.phone||"",address:r.address||"",profileImage:r.profileImage||"",organizationName:r.organizationName||"",organizationDetails:r.organizationDetails||"",createdAt:new Date,emailVerified:i.emailVerified};console.log("Saving user document to Firestore");try{await (0,o.setDoc)((0,o.doc)(t.db,"users",i.uid),l),console.log("User document saved to Firestore")}catch(e){console.error("Error saving user to Firestore:",e)}a(l),console.log("User registration complete")}catch(e){throw console.error("Error during registration:",e),e.code&&console.error("Firebase error code:",e.code),e}finally{c(!1)}},g=async(e,s)=>{c(!0),console.log("Attempting login for:",e);try{await (0,n.signInWithEmailAndPassword)(t.I8,e,s),console.log("Login successful")}catch(e){throw console.error("Login error:",e),e}finally{c(!1)}},x=async()=>{c(!0),console.log("Attempting Google login");try{let e=new n.GoogleAuthProvider,s=(await (0,n.signInWithPopup)(t.I8,e)).user;if(!(await (0,o.getDoc)((0,o.doc)(t.db,"users",s.uid))).exists()){console.log("Creating new user document for Google user");let e={id:s.uid,name:s.displayName||"",email:s.email||"",role:"donor",profileImage:s.photoURL||"",createdAt:new Date,emailVerified:s.emailVerified};await (0,o.setDoc)((0,o.doc)(t.db,"users",s.uid),e)}console.log("Google login successful")}catch(e){throw console.error("Google login error:",e),e}finally{c(!1)}},u=async()=>{c(!0),console.log("Logging out user");try{await (0,n.signOut)(t.I8),a(null),console.log("Logout successful")}catch(e){throw console.error("Logout error:",e),e}finally{c(!1)}},f=async e=>{if(!s){console.error("Cannot update user data: No user is logged in");return}c(!0),console.log("Updating user data for:",s.id);try{let r=(0,o.doc)(t.db,"users",s.id);await (0,o.setDoc)(r,{...e},{merge:!0}),a(s=>s?{...s,...e}:null),e.name&&t.I8.currentUser&&await (0,n.updateProfile)(t.I8.currentUser,{displayName:e.name}),console.log("User data updated successfully")}catch(e){throw console.error("Error updating user data:",e),e}finally{c(!1)}},j=async e=>{c(!0),console.log("Sending password reset email to:",e);try{await (0,n.sendPasswordResetEmail)(t.I8,e),console.log("Password reset email sent")}catch(e){throw console.error("Error sending password reset email:",e),e}finally{c(!1)}},p=async()=>{if(!t.I8.currentUser)throw Error("No user is logged in");try{await (0,t.zk)(t.I8.currentUser),console.log("Verification email sent")}catch(e){throw console.error("Error sending verification email:",e),e}};return i.jsx(d.Provider,{value:{user:s,currentUser:s,loading:r,register:h,login:g,loginWithGoogle:x,logout:u,updateUserData:f,resetPassword:j,sendVerificationEmail:p,isEmailVerified:()=>t.I8.currentUser?.emailVerified||!1,refreshUserState:m},children:!r&&e})};r()}catch(e){r(e)}})},7719:(e,s,a)=>{"use strict";a.d(s,{F:()=>c,f:()=>d});var r=a(997);let{createContext:i,useContext:l,useState:n,useEffect:o}=a(6689),t=i(void 0),c=()=>{let e=l(t);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e},d=({children:e})=>{let[s,a]=n("light");return o(()=>{},[]),r.jsx(t.Provider,{value:{theme:s,toggleTheme:()=>{let e="light"===s?"dark":"light";a(e),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)}},children:e})}},3893:(e,s,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(s),a.d(s,{default:()=>d});var i=a(997);a(6689);var l=a(6201),n=a(1163);a(4032),a(108);var o=a(8111),t=a(7719),c=e([l,o]);function d({Component:e,pageProps:s}){return(0,n.useRouter)(),i.jsx(o.H,{children:(0,i.jsxs)(t.f,{children:[i.jsx(e,{...s}),i.jsx(l.Toaster,{position:"bottom-center",toastOptions:{duration:3e3,style:{background:"var(--card-bg)",color:"var(--text-primary)"}}})]})})}[l,o]=c.then?(await c)():c,r()}catch(e){r(e)}})},5375:(e,s,a)=>{"use strict";a.a(e,async(e,r)=>{try{let d;a.d(s,{I8:()=>m,db:()=>x,tO:()=>u,zk:()=>g});var i=a(3745),l=a(401),n=a(1492),o=a(3392),t=a(9500),c=e([i,l,n,o,t]);[i,l,n,o,t]=c.then?(await c)():c,console.log("Initializing Firebase with config"),d=(0,i.getApps)().length?(0,i.getApps)()[0]:(0,i.initializeApp)({apiKey:"AIzaSyD5HR7kfWqKyWe_s_t47q0197wTlZArymg",authDomain:"mealmatch-ee54c.firebaseapp.com",projectId:"mealmatch-ee54c",storageBucket:"mealmatch-ee54c.firebasestorage.app",messagingSenderId:"824081632987",appId:"1:824081632987:web:1d6ae6fec63a7f96cb06fe",measurementId:"G-L54R5QQ9MJ"});let m=(0,l.getAuth)(d),h={url:`${process.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000"}/login`,handleCodeInApp:!1},g=e=>(0,l.sendEmailVerification)(e,h),x=(0,n.getFirestore)(d),u=(0,o.getStorage)(d);r()}catch(e){r(e)}})},108:()=>{}};